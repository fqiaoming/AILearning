<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 400" width="600" height="400">
  <defs>
    <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#f093fb;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f5576c;stop-opacity:1" />
    </linearGradient>
  </defs>
  
  <!-- 背景 -->
  <rect width="600" height="400" fill="#1a1a2e"/>
  
  <!-- 标题 -->
  <text x="300" y="35" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="20" font-weight="bold">Self-Attention 注意力分数计算</text>
  
  <!-- 输入词向量 -->
  <text x="50" y="75" fill="#a8dadc" font-family="Arial, sans-serif" font-size="14">输入序列</text>
  <rect x="30" y="85" width="80" height="30" rx="5" fill="#457b9d"/>
  <text x="70" y="105" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12">我</text>
  <rect x="120" y="85" width="80" height="30" rx="5" fill="#457b9d"/>
  <text x="160" y="105" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12">喜欢</text>
  <rect x="210" y="85" width="80" height="30" rx="5" fill="#457b9d"/>
  <text x="250" y="105" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12">学习</text>
  <rect x="300" y="85" width="80" height="30" rx="5" fill="#457b9d"/>
  <text x="340" y="105" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12">AI</text>
  
  <!-- Q K V 转换 -->
  <text x="450" y="75" fill="#f4a261" font-family="Arial, sans-serif" font-size="14">线性变换</text>
  <rect x="420" y="85" width="50" height="25" rx="3" fill="#e76f51"/>
  <text x="445" y="102" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="11">Q</text>
  <rect x="480" y="85" width="50" height="25" rx="3" fill="#2a9d8f"/>
  <text x="505" y="102" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="11">K</text>
  <rect x="540" y="85" width="50" height="25" rx="3" fill="#e9c46a"/>
  <text x="565" y="102" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="11">V</text>
  
  <!-- 注意力分数矩阵 -->
  <text x="300" y="145" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="16" font-weight="bold">注意力分数矩阵 (Attention Scores)</text>
  
  <!-- 矩阵网格 -->
  <g transform="translate(150, 160)">
    <!-- 列标签 -->
    <text x="50" y="-5" text-anchor="middle" fill="#a8dadc" font-family="Arial, sans-serif" font-size="11">我</text>
    <text x="110" y="-5" text-anchor="middle" fill="#a8dadc" font-family="Arial, sans-serif" font-size="11">喜欢</text>
    <text x="170" y="-5" text-anchor="middle" fill="#a8dadc" font-family="Arial, sans-serif" font-size="11">学习</text>
    <text x="230" y="-5" text-anchor="middle" fill="#a8dadc" font-family="Arial, sans-serif" font-size="11">AI</text>
    
    <!-- 行标签 -->
    <text x="-15" y="35" text-anchor="end" fill="#a8dadc" font-family="Arial, sans-serif" font-size="11">我</text>
    <text x="-15" y="85" text-anchor="end" fill="#a8dadc" font-family="Arial, sans-serif" font-size="11">喜欢</text>
    <text x="-15" y="135" text-anchor="end" fill="#a8dadc" font-family="Arial, sans-serif" font-size="11">学习</text>
    <text x="-15" y="185" text-anchor="end" fill="#a8dadc" font-family="Arial, sans-serif" font-size="11">AI</text>
    
    <!-- 矩阵格子 - 行1 -->
    <rect x="20" y="10" width="55" height="45" fill="#e76f51" opacity="0.9"/>
    <text x="47" y="38" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12">0.85</text>
    <rect x="80" y="10" width="55" height="45" fill="#f4a261" opacity="0.6"/>
    <text x="107" y="38" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12">0.05</text>
    <rect x="140" y="10" width="55" height="45" fill="#f4a261" opacity="0.5"/>
    <text x="167" y="38" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12">0.05</text>
    <rect x="200" y="10" width="55" height="45" fill="#f4a261" opacity="0.5"/>
    <text x="227" y="38" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12">0.05</text>
    
    <!-- 矩阵格子 - 行2 -->
    <rect x="20" y="60" width="55" height="45" fill="#f4a261" opacity="0.7"/>
    <text x="47" y="88" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12">0.15</text>
    <rect x="80" y="60" width="55" height="45" fill="#e76f51" opacity="0.85"/>
    <text x="107" y="88" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12">0.65</text>
    <rect x="140" y="60" width="55" height="45" fill="#f4a261" opacity="0.6"/>
    <text x="167" y="88" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12">0.10</text>
    <rect x="200" y="60" width="55" height="45" fill="#f4a261" opacity="0.6"/>
    <text x="227" y="88" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12">0.10</text>
    
    <!-- 矩阵格子 - 行3 -->
    <rect x="20" y="110" width="55" height="45" fill="#f4a261" opacity="0.5"/>
    <text x="47" y="138" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12">0.05</text>
    <rect x="80" y="110" width="55" height="45" fill="#f4a261" opacity="0.7"/>
    <text x="107" y="138" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12">0.20</text>
    <rect x="140" y="110" width="55" height="45" fill="#e76f51" opacity="0.8"/>
    <text x="167" y="138" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12">0.55</text>
    <rect x="200" y="110" width="55" height="45" fill="#f4a261" opacity="0.7"/>
    <text x="227" y="138" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12">0.20</text>
    
    <!-- 矩阵格子 - 行4 -->
    <rect x="20" y="160" width="55" height="45" fill="#f4a261" opacity="0.5"/>
    <text x="47" y="188" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12">0.05</text>
    <rect x="80" y="160" width="55" height="45" fill="#f4a261" opacity="0.6"/>
    <text x="107" y="188" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12">0.10</text>
    <rect x="140" y="160" width="55" height="45" fill="#e76f51" opacity="0.75"/>
    <text x="167" y="188" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12">0.45</text>
    <rect x="200" y="160" width="55" height="45" fill="#e76f51" opacity="0.7"/>
    <text x="227" y="188" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12">0.40</text>
  </g>
  
  <!-- 公式说明 -->
  <rect x="420" y="170" width="165" height="90" rx="8" fill="#16213e"/>
  <text x="502" y="195" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="13" font-weight="bold">计算公式</text>
  <text x="502" y="220" text-anchor="middle" fill="#a8dadc" font-family="Arial, sans-serif" font-size="11">Score = Q × K^T</text>
  <text x="502" y="245" text-anchor="middle" fill="#a8dadc" font-family="Arial, sans-serif" font-size="11">Attention = softmax(Score/√d)</text>
  
  <!-- 图例 -->
  <rect x="420" y="280" width="165" height="80" rx="8" fill="#16213e"/>
  <text x="502" y="305" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="13" font-weight="bold">注意力强度</text>
  <rect x="440" y="320" width="20" height="15" fill="#e76f51" opacity="0.9"/>
  <text x="470" y="332" fill="#a8dadc" font-family="Arial, sans-serif" font-size="10">高注意力</text>
  <rect x="520" y="320" width="20" height="15" fill="#f4a261" opacity="0.5"/>
  <text x="550" y="332" fill="#a8dadc" font-family="Arial, sans-serif" font-size="10">低注意力</text>
</svg>

