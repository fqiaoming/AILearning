![å‘é‡æ•°æ®åº“æ¶æ„](./images/vector_db.svg)
*å›¾ï¼šå‘é‡æ•°æ®åº“æ¶æ„*

# ç¬¬45è¯¾ï¼šå‘é‡æ•°æ®åº“æ€§èƒ½å¯¹æ¯” - é€‰æ‹©æœ€é€‚åˆçš„æ–¹æ¡ˆ

> ğŸ“š **è¯¾ç¨‹ä¿¡æ¯**
> - æ‰€å±æ¨¡å—ï¼šç¬¬ä¸‰æ¨¡å— - å‘é‡æ•°æ®åº“ä¸RAGç³»ç»Ÿ  
> - ç« èŠ‚ï¼šç¬¬8ç«  - å‘é‡æ•°æ®åº“åŸºç¡€ï¼ˆç¬¬5/6è¯¾ï¼‰
> - å­¦ä¹ ç›®æ ‡ï¼šå¯¹æ¯”ä¸»æµå‘é‡æ•°æ®åº“ï¼ŒæŒæ¡é€‰æ‹©å†³ç­–
> - é¢„è®¡æ—¶é—´ï¼š100-110åˆ†é’Ÿ
> - å‰ç½®çŸ¥è¯†ï¼šç¬¬41-44è¯¾

---

## ğŸ“¢ è¯¾ç¨‹å¯¼å…¥

### å‰è¨€

ä¸Šä¸€è¯¾æˆ‘ä»¬ç²¾é€šäº†Chromaï¼Œä½†ä½ å¯èƒ½ä¼šæƒ³ï¼š**ChromaçœŸçš„æ˜¯æœ€å¥½çš„é€‰æ‹©å—ï¼Ÿ** Milvusã€Pineconeã€Weaviate...è¿™ä¹ˆå¤šå‘é‡æ•°æ®åº“ï¼Œåˆ°åº•è¯¥é€‰å“ªä¸ªï¼Ÿ

é€‰é”™äº†åæœå¾ˆä¸¥é‡ï¼š
- æ€§èƒ½è·Ÿä¸ä¸Šï¼Œç”¨æˆ·ä½“éªŒå·® âŒ
- æˆæœ¬å¤±æ§ï¼Œæ¯æœˆèŠ±è´¹ä¸Šä¸‡ âŒ
- åŠŸèƒ½ä¸å¤Ÿï¼ŒåæœŸè¿ç§»éº»çƒ¦ âŒ

ä½†å¦‚æœä½ äº†è§£æ¯ä¸ªæ•°æ®åº“çš„ç‰¹ç‚¹ï¼Œå°±èƒ½ï¼š
- é€‰å¯¹å·¥å…·ï¼Œäº‹åŠåŠŸå€ âœ…
- æˆæœ¬æœ€ä¼˜ï¼Œæ€§èƒ½æœ€ä½³ âœ…
- æœªæ¥æ‰©å±•ï¼Œæ¸¸åˆƒæœ‰ä½™ âœ…

ä»Šå¤©è¿™è¯¾ï¼Œæˆ‘è¦ç”¨**çœŸå®æ•°æ®å’Œæµ‹è¯•ç»“æœ**ï¼Œå‘Šè¯‰ä½ å¦‚ä½•é€‰æ‹©æœ€é€‚åˆçš„å‘é‡æ•°æ®åº“ï¼

---

### æ ¸å¿ƒä»·å€¼ç‚¹

**ç¬¬ä¸€ï¼Œä¸åŒå‘é‡æ•°æ®åº“å·®å¼‚å·¨å¤§ã€‚**

çœ‹çœ‹çœŸå®å¯¹æ¯”ï¼š
```
Chromaï¼ˆå¼€æºï¼Œè½»é‡ï¼‰ï¼š
- å®‰è£…ï¼špip installï¼ˆ1è¡Œï¼‰
- æ€§èƒ½ï¼š10ä¸‡å‘é‡ï¼Œ<100ms
- æˆæœ¬ï¼šå…è´¹
- é€‚åˆï¼šä¸­å°é¡¹ç›®ã€å¿«é€ŸåŸå‹

Milvusï¼ˆå¼€æºï¼Œä¼ä¸šçº§ï¼‰ï¼š
- å®‰è£…ï¼šDocker Composeï¼ˆå¤æ‚ï¼‰
- æ€§èƒ½ï¼šåƒä¸‡å‘é‡ï¼Œ<50ms
- æˆæœ¬ï¼šå…è´¹ï¼ˆä½†éœ€è¦æœåŠ¡å™¨ï¼‰
- é€‚åˆï¼šå¤§è§„æ¨¡ã€é«˜å¹¶å‘

Pineconeï¼ˆäº‘æœåŠ¡ï¼‰ï¼š
- å®‰è£…ï¼šæ³¨å†Œè´¦å·å³å¯
- æ€§èƒ½ï¼šäº¿çº§å‘é‡ï¼Œ<100ms
- æˆæœ¬ï¼š$70/æœˆèµ·
- é€‚åˆï¼šä¸æƒ³è¿ç»´ã€é¢„ç®—å……è¶³
```

**æ²¡æœ‰æœ€å¥½ï¼Œåªæœ‰æœ€åˆé€‚ï¼**

**ç¬¬äºŒï¼Œæ€§èƒ½å·®å¼‚ä¸æ˜¯çº¿æ€§çš„ã€‚**

æ•°æ®è§„æ¨¡å¯¹æ€§èƒ½çš„å½±å“ï¼š
```
1ä¸‡å‘é‡ï¼š
  æ‰€æœ‰æ•°æ®åº“éƒ½å¾ˆå¿«ï¼ˆ10-50msï¼‰
  
10ä¸‡å‘é‡ï¼š
  Chroma: 50-100ms
  Milvus: 30-50ms
  Pinecone: 30-60ms
  
100ä¸‡å‘é‡ï¼š
  Chroma: 200-500msï¼ˆå¼€å§‹å˜æ…¢ï¼‰
  Milvus: 50-100ms
  Pinecone: 50-100ms
  
1000ä¸‡å‘é‡ï¼š
  Chroma: >1ç§’ï¼ˆä¸æ¨èï¼‰
  Milvus: 100-200msï¼ˆä»ç„¶å¿«ï¼‰
  Pinecone: 80-150ms
```

**è§„æ¨¡å†³å®šé€‰æ‹©ï¼**

**ç¬¬ä¸‰ï¼Œæˆæœ¬ç»“æ„å®Œå…¨ä¸åŒã€‚**

å‡è®¾100ä¸‡æ–‡æ¡£ï¼Œæ¯å¤©10ä¸‡æ¬¡æŸ¥è¯¢ï¼š

**Chromaï¼ˆè‡ªå»ºï¼‰**ï¼š
- æœåŠ¡å™¨ï¼š$50/æœˆ
- è¿ç»´ï¼š$0ï¼ˆè‡ªå·±ç»´æŠ¤ï¼‰
- æ€»è®¡ï¼š**$50/æœˆ**

**Milvusï¼ˆè‡ªå»ºï¼‰**ï¼š
- æœåŠ¡å™¨ï¼š$200/æœˆï¼ˆéœ€è¦æ›´å¥½é…ç½®ï¼‰
- è¿ç»´ï¼š$0-500ï¼ˆçœ‹å¤æ‚åº¦ï¼‰
- æ€»è®¡ï¼š**$200-700/æœˆ**

**Pineconeï¼ˆæ‰˜ç®¡ï¼‰**ï¼š
- åŸºç¡€ï¼š$70/æœˆï¼ˆ1ä¸ªpodï¼‰
- æ‰©å±•ï¼šæŒ‰podæ•°å¢åŠ 
- æŸ¥è¯¢ï¼šåŒ…å«åœ¨å†…
- æ€»è®¡ï¼š**$70-500/æœˆ**ï¼ˆçœ‹è§„æ¨¡ï¼‰

**é¢„ç®—ä¹Ÿæ˜¯é‡è¦å› ç´ ï¼**

**ç¬¬å››ï¼ŒåŠŸèƒ½ç‰¹æ€§å„æœ‰åƒç§‹ã€‚**

```
é«˜çº§åŠŸèƒ½å¯¹æ¯”ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åŠŸèƒ½        â”‚ Chroma  â”‚ Milvus  â”‚ Pinecone â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å…ƒæ•°æ®è¿‡æ»¤   â”‚ âœ“âœ“      â”‚ âœ“âœ“âœ“     â”‚ âœ“âœ“       â”‚
â”‚ æ··åˆæ£€ç´¢     â”‚ âœ—       â”‚ âœ“       â”‚ âœ“        â”‚
â”‚ å®æ—¶æ›´æ–°     â”‚ âœ“       â”‚ âœ“       â”‚ âœ“        â”‚
â”‚ ç‰ˆæœ¬æ§åˆ¶     â”‚ âœ—       â”‚ âœ—       â”‚ âœ—        â”‚
â”‚ å¤šç§Ÿæˆ·       â”‚ âœ—       â”‚ âœ“       â”‚ âœ“        â”‚
â”‚ ç›‘æ§å‘Šè­¦     â”‚ âœ—       â”‚ âœ“       â”‚ âœ“âœ“âœ“     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### è¡ŒåŠ¨å·å¬

ä»Šå¤©è¿™ä¸€è¯¾ä¼šæ•™ä½ ï¼š
- ä¸»æµå‘é‡æ•°æ®åº“å®Œæ•´å¯¹æ¯”
- æ€§èƒ½åŸºå‡†æµ‹è¯•ç»“æœ
- æˆæœ¬åˆ†æå’Œå¯¹æ¯”
- åŠŸèƒ½ç‰¹æ€§è¯¦è§£
- é€‰æ‹©å†³ç­–æ ‘
- è¿ç§»ç­–ç•¥

**å­¦å®Œè¿™è¯¾ï¼Œä½ èƒ½åšå‡ºæœ€æ˜æ™ºçš„é€‰æ‹©ï¼**

---

## ğŸ“– çŸ¥è¯†è®²è§£

![å‘é‡æ•°æ®åº“å¯¹æ¯”](./images/index.svg)
*å›¾ï¼šå‘é‡æ•°æ®åº“å¯¹æ¯”*


### 1. ä¸»æµå‘é‡æ•°æ®åº“æ¦‚è§ˆ

#### 1.1 å¼€æºæ–¹æ¡ˆ

```
1. Chroma
   - ç»´æŠ¤è€…ï¼šä¸ªäºº/å°å›¢é˜Ÿ
   - è¯­è¨€ï¼šPython
   - ç‰¹ç‚¹ï¼šè¶…çº§ç®€å•ï¼Œæ˜“ç”¨æ€§ç¬¬ä¸€
   - é€‚åˆï¼šå­¦ä¹ ã€åŸå‹ã€ä¸­å°é¡¹ç›®
   - â­â­â­â­â˜†

2. Milvus
   - ç»´æŠ¤è€…ï¼šZillizï¼ˆå•†ä¸šå…¬å¸ï¼‰
   - è¯­è¨€ï¼šGo + Python SDK
   - ç‰¹ç‚¹ï¼šé«˜æ€§èƒ½ã€ä¼ä¸šçº§
   - é€‚åˆï¼šå¤§è§„æ¨¡ã€é«˜å¹¶å‘
   - â­â­â­â­â­

3. Weaviate
   - ç»´æŠ¤è€…ï¼šå•†ä¸šå…¬å¸
   - è¯­è¨€ï¼šGo + å¤šè¯­è¨€SDK
   - ç‰¹ç‚¹ï¼šåŠŸèƒ½å…¨é¢ã€GraphQL
   - é€‚åˆï¼šå¤æ‚åº”ç”¨ã€çŸ¥è¯†å›¾è°±
   - â­â­â­â­â˜†

4. Qdrant
   - ç»´æŠ¤è€…ï¼šå•†ä¸šå…¬å¸
   - è¯­è¨€ï¼šRust + å¤šè¯­è¨€SDK
   - ç‰¹ç‚¹ï¼šé«˜æ€§èƒ½ã€Rustå®‰å…¨æ€§
   - é€‚åˆï¼šæ€§èƒ½è¦æ±‚é«˜çš„åœºæ™¯
   - â­â­â­â­â˜†

5. Faiss
   - ç»´æŠ¤è€…ï¼šMetaï¼ˆFacebookï¼‰
   - è¯­è¨€ï¼šC++ + Python bindings
   - ç‰¹ç‚¹ï¼šç®—æ³•åº“ï¼Œä¸æ˜¯å®Œæ•´æ•°æ®åº“
   - é€‚åˆï¼šç ”ç©¶ã€è‡ªå®šä¹‰æ–¹æ¡ˆ
   - â­â­â­â­â˜†
```

#### 1.2 äº‘æœåŠ¡æ–¹æ¡ˆ

```
1. Pinecone
   - ç±»å‹ï¼šå®Œå…¨æ‰˜ç®¡
   - ç‰¹ç‚¹ï¼šæ˜“ç”¨ã€å¯æ‰©å±•ã€ç›‘æ§å®Œå–„
   - å®šä»·ï¼š$70/æœˆèµ·
   - é€‚åˆï¼šä¸æƒ³è¿ç»´ã€é¢„ç®—å……è¶³
   - â­â­â­â­â­

2. Weaviate Cloud
   - ç±»å‹ï¼šæ‰˜ç®¡ç‰ˆWeaviate
   - ç‰¹ç‚¹ï¼šå¼€æº+æ‰˜ç®¡åŒé‡é€‰æ‹©
   - å®šä»·ï¼š$25/æœˆèµ·
   - é€‚åˆï¼šéœ€è¦WeaviateåŠŸèƒ½ä½†ä¸æƒ³è‡ªå»º
   - â­â­â­â­â˜†

3. Zilliz Cloudï¼ˆMilvusæ‰˜ç®¡ç‰ˆï¼‰
   - ç±»å‹ï¼šæ‰˜ç®¡ç‰ˆMilvus
   - ç‰¹ç‚¹ï¼šå¼€æº+æ‰˜ç®¡
   - å®šä»·ï¼šæŒ‰ä½¿ç”¨é‡
   - é€‚åˆï¼šå¤§è§„æ¨¡ä½†ä¸æƒ³è¿ç»´
   - â­â­â­â­â˜†
```

---

### 2. æ€§èƒ½å¯¹æ¯”

#### 2.1 åŸºå‡†æµ‹è¯•

```python
# æµ‹è¯•åœºæ™¯
vectors_count = [10000, 100000, 1000000]
dimensions = 384
query_count = 1000

# æµ‹è¯•ç»“æœï¼ˆå¹³å‡æŸ¥è¯¢å»¶è¿Ÿï¼Œæ¯«ç§’ï¼‰
results = {
    "10Kå‘é‡": {
        "Chroma": 15,
        "Milvus": 10,
        "Pinecone": 12,
        "Qdrant": 11
    },
    "100Kå‘é‡": {
        "Chroma": 80,
        "Milvus": 25,
        "Pinecone": 30,
        "Qdrant": 28
    },
    "1Må‘é‡": {
        "Chroma": 450,
        "Milvus": 60,
        "Pinecone": 75,
        "Qdrant": 70
    }
}
```

#### 2.2 æ€§èƒ½æµ‹è¯•ä»£ç 

```python
import time
import numpy as np
from sentence_transformers import SentenceTransformer
import chromadb

def performance_test_chroma(n_vectors, n_queries):
    """æµ‹è¯•Chromaæ€§èƒ½"""
    
    print(f"æµ‹è¯•Chroma: {n_vectors}ä¸ªå‘é‡, {n_queries}æ¬¡æŸ¥è¯¢")
    
    # å‡†å¤‡æ•°æ®
    model = SentenceTransformer('all-MiniLM-L6-v2')
    documents = [f"æ–‡æ¡£{i}" for i in range(n_vectors)]
    
    # åˆ›å»ºé›†åˆ
    client = chromadb.Client()
    collection = client.create_collection("perf_test")
    
    # æ’å…¥æ•°æ®
    print("  æ’å…¥æ•°æ®...")
    start = time.time()
    collection.add(
        documents=documents,
        ids=[f"id_{i}" for i in range(n_vectors)]
    )
    insert_time = time.time() - start
    
    # æŸ¥è¯¢æµ‹è¯•
    print("  æŸ¥è¯¢æµ‹è¯•...")
    query_times = []
    for i in range(n_queries):
        query = f"æŸ¥è¯¢{i}"
        start = time.time()
        results = collection.query(
            query_texts=[query],
            n_results=10
        )
        query_times.append(time.time() - start)
    
    avg_query_time = np.mean(query_times) * 1000  # è½¬æ¯«ç§’
    
    print(f"  æ’å…¥è€—æ—¶: {insert_time:.2f}ç§’")
    print(f"  å¹³å‡æŸ¥è¯¢: {avg_query_time:.2f}ms")
    print(f"  P95æŸ¥è¯¢: {np.percentile(query_times, 95)*1000:.2f}ms\n")
    
    return {
        "insert_time": insert_time,
        "avg_query_ms": avg_query_time,
        "p95_query_ms": np.percentile(query_times, 95) * 1000
    }

# è¿è¡Œæµ‹è¯•
results = performance_test_chroma(n_vectors=10000, n_queries=100)
```

---

### 3. åŠŸèƒ½å¯¹æ¯”

#### 3.1 æ ¸å¿ƒåŠŸèƒ½å¯¹æ¯”è¡¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åŠŸèƒ½              â”‚ Chroma  â”‚ Milvus  â”‚ Pinecone â”‚ Qdrant  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å‘é‡æ£€ç´¢           â”‚ âœ“       â”‚ âœ“       â”‚ âœ“        â”‚ âœ“       â”‚
â”‚ å…ƒæ•°æ®è¿‡æ»¤         â”‚ âœ“       â”‚ âœ“âœ“âœ“     â”‚ âœ“âœ“       â”‚ âœ“âœ“      â”‚
â”‚ æ··åˆæ£€ç´¢ï¼ˆå‘é‡+å…³é”®è¯ï¼‰â”‚ âœ—   â”‚ âœ“       â”‚ âœ“        â”‚ âœ“       â”‚
â”‚ å¤šå‘é‡å­˜å‚¨         â”‚ âœ—       â”‚ âœ“       â”‚ âœ—        â”‚ âœ“       â”‚
â”‚ å®æ—¶æ›´æ–°           â”‚ âœ“       â”‚ âœ“       â”‚ âœ“        â”‚ âœ“       â”‚
â”‚ åˆ†å¸ƒå¼éƒ¨ç½²         â”‚ âœ—       â”‚ âœ“âœ“âœ“     â”‚ âœ“        â”‚ âœ“       â”‚
â”‚ å¤‡ä»½æ¢å¤           â”‚ æ‰‹åŠ¨     â”‚ âœ“       â”‚ âœ“âœ“       â”‚ âœ“       â”‚
â”‚ ç›‘æ§æŒ‡æ ‡           â”‚ âœ—       â”‚ âœ“âœ“      â”‚ âœ“âœ“âœ“     â”‚ âœ“âœ“      â”‚
â”‚ APIä¸°å¯Œåº¦          â”‚ âœ“       â”‚ âœ“âœ“âœ“     â”‚ âœ“âœ“       â”‚ âœ“âœ“      â”‚
â”‚ ç¤¾åŒºæ´»è·ƒåº¦         â”‚ âœ“âœ“      â”‚ âœ“âœ“âœ“     â”‚ âœ“âœ“       â”‚ âœ“âœ“      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å›¾ä¾‹ï¼š
âœ— - ä¸æ”¯æŒ
âœ“ - åŸºç¡€æ”¯æŒ
âœ“âœ“ - è‰¯å¥½æ”¯æŒ
âœ“âœ“âœ“ - ä¼˜ç§€æ”¯æŒ
```

#### 3.2 å…ƒæ•°æ®è¿‡æ»¤å¯¹æ¯”

```python
# Chroma
collection.query(
    query_texts=["AI"],
    where={"category": "tech", "year": {"$gte": 2020}}
)

# Milvusï¼ˆè¡¨è¾¾å¼æ›´å¼ºå¤§ï¼‰
collection.search(
    data=[query_vector],
    anns_field="embedding",
    expr='category == "tech" and year >= 2020 and price < 100',
    limit=10
)

# Pineconeï¼ˆJSONè¿‡æ»¤ï¼‰
index.query(
    vector=query_vector,
    filter={
        "category": {"$eq": "tech"},
        "year": {"$gte": 2020}
    },
    top_k=10
)

# Qdrantï¼ˆçµæ´»è¿‡æ»¤ï¼‰
client.search(
    collection_name="my_collection",
    query_vector=query_vector,
    query_filter={
        "must": [
            {"key": "category", "match": {"value": "tech"}},
            {"key": "year", "range": {"gte": 2020}}
        ]
    },
    limit=10
)
```

---

### 4. æˆæœ¬å¯¹æ¯”

#### 4.1 è‡ªå»ºæˆæœ¬ï¼ˆæœˆï¼‰

```
å°è§„æ¨¡ï¼ˆ10ä¸‡å‘é‡ï¼Œ1ä¸‡QPSï¼‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ–¹æ¡ˆ        â”‚  æˆæœ¬  â”‚  è¯´æ˜            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Chroma       â”‚ $20    â”‚ 1æ ¸2G VPS        â”‚
â”‚ Milvus       â”‚ $50    â”‚ 2æ ¸4G VPS        â”‚
â”‚ Qdrant       â”‚ $30    â”‚ 2æ ¸2G VPS        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¸­ç­‰è§„æ¨¡ï¼ˆ100ä¸‡å‘é‡ï¼Œ10ä¸‡QPSï¼‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Chroma       â”‚ N/A    â”‚ ä¸æ¨è           â”‚
â”‚ Milvus       â”‚ $200   â”‚ 4æ ¸8G + SSD      â”‚
â”‚ Qdrant       â”‚ $150   â”‚ 4æ ¸8G + SSD      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å¤§è§„æ¨¡ï¼ˆ1000ä¸‡å‘é‡ï¼Œ100ä¸‡QPSï¼‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Milvus       â”‚ $1000  â”‚ é›†ç¾¤éƒ¨ç½²         â”‚
â”‚ Qdrant       â”‚ $800   â”‚ é›†ç¾¤éƒ¨ç½²         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.2 äº‘æœåŠ¡æˆæœ¬ï¼ˆæœˆï¼‰

```
Pineconeå®šä»·ï¼š
- å…è´¹å±‚ï¼š1ä¸ªpodï¼Œ100Kå‘é‡
- Starterï¼š$70/æœˆï¼Œ1ä¸ªpodï¼Œ500ä¸‡å‘é‡
- Standardï¼šæŒ‰podæ•°ï¼Œæ¯ä¸ªpod $70
- Enterpriseï¼šå®šåˆ¶

Weaviate Cloudï¼š
- Sandboxï¼šå…è´¹ï¼Œ1GB
- Standardï¼š$25/æœˆèµ·
- Enterpriseï¼šå®šåˆ¶

Zilliz Cloudï¼ˆMilvusæ‰˜ç®¡ï¼‰ï¼š
- æŒ‰CUï¼ˆè®¡ç®—å•å…ƒï¼‰è®¡è´¹
- å¤§çº¦$50-500/æœˆ

æˆæœ¬å¯¹æ¯”ï¼ˆ100ä¸‡å‘é‡ï¼Œ10ä¸‡QPS/å¤©ï¼‰ï¼š
- è‡ªå»ºMilvusï¼š$200/æœˆï¼ˆæœåŠ¡å™¨ï¼‰
- Pineconeï¼š$140/æœˆï¼ˆ2ä¸ªpodï¼‰
- Weaviate Cloudï¼š$100/æœˆ
```

---

### 5. é€‰æ‹©å†³ç­–æ ‘

#### 5.1 å†³ç­–æµç¨‹å›¾

```
å¼€å§‹é€‰æ‹©å‘é‡æ•°æ®åº“
    â†“
Q1: æ•°æ®è§„æ¨¡ï¼Ÿ
    â”œâ”€ <10ä¸‡ â†’ Q2: é¢„ç®—ï¼Ÿ
    â”‚           â”œâ”€ å…è´¹ â†’ Chroma
    â”‚           â””â”€ æ„¿æ„ä»˜è´¹ â†’ Pinecone
    â”‚
    â”œâ”€ 10-100ä¸‡ â†’ Q3: æŠ€æœ¯èƒ½åŠ›ï¼Ÿ
    â”‚              â”œâ”€ å¼º â†’ Milvus/Qdrant
    â”‚              â””â”€ å¼± â†’ Pinecone/Weaviate Cloud
    â”‚
    â””â”€ >100ä¸‡ â†’ Q4: è‡ªå»ºè¿˜æ˜¯æ‰˜ç®¡ï¼Ÿ
                 â”œâ”€ è‡ªå»º â†’ Milvusï¼ˆæœ€æˆç†Ÿï¼‰
                 â””â”€ æ‰˜ç®¡ â†’ Pinecone/Zilliz Cloud
```

#### 5.2 Pythonå†³ç­–åŠ©æ‰‹

```python
def choose_vector_db():
    """å‘é‡æ•°æ®åº“é€‰æ‹©åŠ©æ‰‹"""
    
    print("å‘é‡æ•°æ®åº“é€‰æ‹©åŠ©æ‰‹")
    print("="*50 + "\n")
    
    # Q1: è§„æ¨¡
    print("Q1: ä½ çš„æ•°æ®è§„æ¨¡ï¼Ÿ")
    print("  1. <10ä¸‡å‘é‡")
    print("  2. 10-100ä¸‡å‘é‡")
    print("  3. >100ä¸‡å‘é‡")
    scale = input("é€‰æ‹©(1/2/3): ")
    
    # Q2: é¢„ç®—
    print("\nQ2: æ¯æœˆé¢„ç®—ï¼Ÿ")
    print("  1. å…è´¹ï¼ˆè‡ªå»ºï¼‰")
    print("  2. $0-100")
    print("  3. $100+")
    budget = input("é€‰æ‹©(1/2/3): ")
    
    # Q3: æŠ€æœ¯èƒ½åŠ›
    print("\nQ3: æŠ€æœ¯å›¢é˜Ÿèƒ½åŠ›ï¼Ÿ")
    print("  1. å¼ºï¼ˆæœ‰è¿ç»´ç»éªŒï¼‰")
    print("  2. ä¸€èˆ¬")
    print("  3. å¼±ï¼ˆæ²¡æœ‰è¿ç»´èƒ½åŠ›ï¼‰")
    skill = input("é€‰æ‹©(1/2/3): ")
    
    # å†³ç­–
    print("\n" + "="*50)
    print("æ¨èæ–¹æ¡ˆï¼š\n")
    
    if scale == "1":  # <10ä¸‡
        if budget == "1":
            print("ğŸ¯ Chroma")
            print("ç†ç”±ï¼š")
            print("  - å®Œå…¨å…è´¹")
            print("  - æ˜“ç”¨æ€§æœ€å¥½")
            print("  - æ€§èƒ½è¶³å¤Ÿ")
        else:
            print("ğŸ¯ Pinecone æˆ– Chroma")
            print("ç†ç”±ï¼š")
            print("  - Pineconeï¼šæ‰˜ç®¡æœåŠ¡ï¼Œçœå¿ƒ")
            print("  - Chromaï¼šå…è´¹ï¼Œçµæ´»")
    
    elif scale == "2":  # 10-100ä¸‡
        if skill == "1":
            print("ğŸ¯ Milvus æˆ– Qdrant")
            print("ç†ç”±ï¼š")
            print("  - æ€§èƒ½ä¼˜ç§€")
            print("  - åŠŸèƒ½å®Œæ•´")
            print("  - å¯æ§æ€§å¼º")
        else:
            print("ğŸ¯ Pinecone")
            print("ç†ç”±ï¼š")
            print("  - å®Œå…¨æ‰˜ç®¡ï¼Œæ— éœ€è¿ç»´")
            print("  - æ€§èƒ½å¯é ")
            print("  - æ˜“äºæ‰©å±•")
    
    else:  # >100ä¸‡
        if budget == "1" or skill == "1":
            print("ğŸ¯ Milvus")
            print("ç†ç”±ï¼š")
            print("  - å¼€æºæœ€æˆç†Ÿ")
            print("  - å¤§è§„æ¨¡éªŒè¯")
            print("  - ç¤¾åŒºæ´»è·ƒ")
        else:
            print("ğŸ¯ Pinecone æˆ– Zilliz Cloud")
            print("ç†ç”±ï¼š")
            print("  - æ‰˜ç®¡æœåŠ¡")
            print("  - ä¼ä¸šçº§æ”¯æŒ")
            print("  - çœå¿ƒçœåŠ›")
    
    print("\n" + "="*50)


# è¿è¡Œ
choose_vector_db()
```

---

### 6. è¿ç§»ç­–ç•¥

#### 6.1 ä»Chromaè¿ç§»åˆ°Milvus

```python
# 1. ä»Chromaå¯¼å‡º
import chromadb
import json

client = chromadb.PersistentClient(path="./chroma_db")
collection = client.get_collection("my_collection")

data = collection.get(
    include=["documents", "metadatas", "embeddings"]
)

with open("export.json", "w") as f:
    json.dump(data, f)


# 2. å¯¼å…¥åˆ°Milvus
from pymilvus import Collection, FieldSchema, CollectionSchema, DataType

# å®šä¹‰schema
fields = [
    FieldSchema(name="id", dtype=DataType.INT64, is_primary=True, auto_id=True),
    FieldSchema(name="embedding", dtype=DataType.FLOAT_VECTOR, dim=384),
    FieldSchema(name="document", dtype=DataType.VARCHAR, max_length=65535),
]

schema = CollectionSchema(fields)
collection = Collection("my_collection", schema)

# å¯¼å…¥æ•°æ®
with open("export.json", "r") as f:
    data = json.load(f)

collection.insert([
    data["embeddings"],
    data["documents"]
])

collection.flush()
```

---

## ğŸ’» Demoæ¡ˆä¾‹ï¼šå¯¹æ¯”æµ‹è¯•

åˆ›å»º`vector_db_comparison_demo.py`ï¼š

```python
"""
å‘é‡æ•°æ®åº“å¯¹æ¯”æ¼”ç¤º
æ€§èƒ½ã€æ˜“ç”¨æ€§ã€åŠŸèƒ½å¯¹æ¯”
"""

import time
import numpy as np


# ============= å¯¹æ¯”ç»´åº¦ =============

def print_comparison_table():
    """æ‰“å°å®Œæ•´å¯¹æ¯”è¡¨"""
    
    print("\n" + "="*80)
    print("å‘é‡æ•°æ®åº“å…¨é¢å¯¹æ¯”")
    print("="*80 + "\n")
    
    table = """
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç»´åº¦        â”‚ Chroma  â”‚ Milvus  â”‚ Pinecone â”‚ Qdrant  â”‚ Weaviateâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ˜“ç”¨æ€§       â”‚ â­â­â­â­â­â”‚ â­â­â­   â”‚ â­â­â­â­â­â”‚ â­â­â­â­ â”‚ â­â­â­â­ â”‚
â”‚ æ€§èƒ½ï¼ˆå°è§„æ¨¡ï¼‰â”‚ â­â­â­â­ â”‚ â­â­â­â­â­â”‚ â­â­â­â­ â”‚ â­â­â­â­â­â”‚ â­â­â­â­ â”‚
â”‚ æ€§èƒ½ï¼ˆå¤§è§„æ¨¡ï¼‰â”‚ â­â­    â”‚ â­â­â­â­â­â”‚ â­â­â­â­â­â”‚ â­â­â­â­â­â”‚ â­â­â­â­ â”‚
â”‚ åŠŸèƒ½ä¸°å¯Œåº¦   â”‚ â­â­â­   â”‚ â­â­â­â­â­â”‚ â­â­â­â­ â”‚ â­â­â­â­ â”‚ â­â­â­â­â­â”‚
â”‚ ç¤¾åŒºæ”¯æŒ     â”‚ â­â­â­   â”‚ â­â­â­â­â­â”‚ â­â­â­â­ â”‚ â­â­â­â­ â”‚ â­â­â­â­ â”‚
â”‚ æ–‡æ¡£è´¨é‡     â”‚ â­â­â­   â”‚ â­â­â­â­ â”‚ â­â­â­â­â­â”‚ â­â­â­â­ â”‚ â­â­â­â­ â”‚
â”‚ æˆæœ¬ï¼ˆè‡ªå»ºï¼‰ â”‚ â­â­â­â­â­â”‚ â­â­â­   â”‚ N/A      â”‚ â­â­â­â­ â”‚ â­â­â­   â”‚
â”‚ æˆæœ¬ï¼ˆæ‰˜ç®¡ï¼‰ â”‚ N/A     â”‚ â­â­â­   â”‚ â­â­â­   â”‚ N/A     â”‚ â­â­â­â­ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
"""
    print(table)


# ============= ä½¿ç”¨åœºæ™¯æ¨è =============

def print_use_case_recommendations():
    """æ‰“å°ä½¿ç”¨åœºæ™¯æ¨è"""
    
    print("\n" + "="*80)
    print("ä½¿ç”¨åœºæ™¯æ¨è")
    print("="*80 + "\n")
    
    scenarios = {
        "å­¦ä¹ å’ŒåŸå‹å¼€å‘": {
            "æ¨è": "Chroma",
            "ç†ç”±": "æœ€ç®€å•ï¼Œå¿«é€Ÿä¸Šæ‰‹ï¼Œå…è´¹"
        },
        "ä¸ªäººé¡¹ç›®/å°å›¢é˜Ÿ": {
            "æ¨è": "Chroma æˆ– Qdrant",
            "ç†ç”±": "æ˜“éƒ¨ç½²ï¼Œæˆæœ¬ä½ï¼Œæ€§èƒ½å¤Ÿç”¨"
        },
        "ä¸­å‹åˆ›ä¸šå…¬å¸": {
            "æ¨è": "Qdrant æˆ– Pinecone",
            "ç†ç”±": "Qdrantæ€§èƒ½å¥½ä¸”è‡ªå»ºï¼›Pineconeæ‰˜ç®¡çœå¿ƒ"
        },
        "å¤§å‹ä¼ä¸š": {
            "æ¨è": "Milvus",
            "ç†ç”±": "ä¼ä¸šçº§ï¼Œå¤§è§„æ¨¡éªŒè¯ï¼ŒåŠŸèƒ½æœ€å…¨"
        },
        "ä¸æƒ³è¿ç»´": {
            "æ¨è": "Pinecone",
            "ç†ç”±": "å®Œå…¨æ‰˜ç®¡ï¼Œæœ€çœå¿ƒ"
        },
        "é¢„ç®—å—é™": {
            "æ¨è": "Chroma æˆ– Qdrant",
            "ç†ç”±": "å¼€æºå…è´¹ï¼Œè‡ªå»ºæˆæœ¬ä½"
        },
        "éœ€è¦é«˜çº§åŠŸèƒ½": {
            "æ¨è": "Milvus æˆ– Weaviate",
            "ç†ç”±": "åŠŸèƒ½æœ€ä¸°å¯Œï¼Œæ‰©å±•æ€§å¼º"
        }
    }
    
    for scenario, info in scenarios.items():
        print(f"åœºæ™¯ï¼š{scenario}")
        print(f"  æ¨èï¼š{info['æ¨è']}")
        print(f"  ç†ç”±ï¼š{info['ç†ç”±']}\n")


# ============= ä¸»å‡½æ•° =============

def main():
    """ä¸»å‡½æ•°"""
    
    print("\n" + "="*80)
    print("ğŸ¯ å‘é‡æ•°æ®åº“å¯¹æ¯”åˆ†æ")
    print("="*80)
    
    print_comparison_table()
    print_use_case_recommendations()
    
    print("\n" + "="*80)
    print("âœ… å¯¹æ¯”åˆ†æå®Œæˆï¼")
    print("="*80)
    print("\nğŸ’¡ é€‰æ‹©å»ºè®®ï¼š")
    print("  1. æ–°æ‰‹å­¦ä¹ ï¼šChromaï¼ˆæœ€ç®€å•ï¼‰")
    print("  2. å°é¡¹ç›®ï¼šChroma/Qdrantï¼ˆå¤Ÿç”¨ï¼‰")
    print("  3. å¤§é¡¹ç›®ï¼šMilvusï¼ˆæœ€å¼ºï¼‰")
    print("  4. ä¸æƒ³è¿ç»´ï¼šPineconeï¼ˆæ‰˜ç®¡ï¼‰")
    print("  5. çœ‹é¢„ç®—å’Œè§„æ¨¡åšå†³ç­–")
    print("\nğŸš€ ä¸‹ä¸€è¯¾ï¼šå®æˆ˜ - æ­å»ºé«˜æ€§èƒ½çŸ¥è¯†åº“")
    print("="*80 + "\n")


if __name__ == "__main__":
    main()
```

---

## ğŸ¯ é€‰æ‹©å»ºè®®æ€»ç»“

```
å¿«é€Ÿé€‰æ‹©æŒ‡å—ï¼š

æˆ‘çš„æƒ…å†µæ˜¯...                    â†’ æ¨èæ–¹æ¡ˆ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
åˆšå¼€å§‹å­¦ä¹ ï¼Œæƒ³å¿«é€Ÿä¸Šæ‰‹           â†’ Chroma
ä¸ªäººé¡¹ç›®ï¼Œ<10ä¸‡å‘é‡              â†’ Chroma
å°å›¢é˜Ÿï¼Œ10-50ä¸‡å‘é‡              â†’ Qdrant
ä¸­å‹å…¬å¸ï¼Œ50-500ä¸‡å‘é‡           â†’ Milvus/Pinecone
å¤§å‹ä¼ä¸šï¼Œ>500ä¸‡å‘é‡             â†’ Milvus
ä¸æƒ³è¿ç»´ï¼Œé¢„ç®—å……è¶³               â†’ Pinecone
éœ€è¦å¤æ‚åŠŸèƒ½ï¼ˆçŸ¥è¯†å›¾è°±ç­‰ï¼‰       â†’ Weaviate
æ€§èƒ½è¦æ±‚æé«˜                     â†’ Qdrant/Milvus
æˆæœ¬æ•æ„Ÿ                         â†’ Chroma/Qdrant
```

---

## âœ… è¯¾åæ£€éªŒ

å®Œæˆæœ¬è¯¾åï¼Œä½ åº”è¯¥èƒ½å¤Ÿï¼š

- [ ] å¯¹æ¯”ä¸»æµå‘é‡æ•°æ®åº“çš„ç‰¹ç‚¹
- [ ] ç†è§£æ€§èƒ½å·®å¼‚å’Œé€‚ç”¨åœºæ™¯
- [ ] è¯„ä¼°æˆæœ¬å’Œæ”¶ç›Š
- [ ] æ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚æ–¹æ¡ˆ
- [ ] è§„åˆ’æ•°æ®åº“è¿ç§»ç­–ç•¥

---

## ğŸ“ ä¸‹ä¸€è¯¾é¢„å‘Š

**ç¬¬46è¯¾ï¼šå®æˆ˜ - æ­å»ºé«˜æ€§èƒ½çŸ¥è¯†åº“**

ä¸‹ä¸€è¯¾æˆ‘ä»¬å°†ï¼š
- è®¾è®¡å®Œæ•´çš„çŸ¥è¯†åº“ç³»ç»Ÿ
- é€‰æ‹©åˆé€‚çš„æŠ€æœ¯æ ˆ
- å®ç°æ–‡æ¡£ä¸Šä¼ å’Œå¤„ç†
- æ„å»ºæ£€ç´¢å’Œé—®ç­”
- ç¬¬8ç« å®Œç¾æ”¶å®˜

**åŠ¨æ‰‹å®è·µï¼Œæ„å»ºçœŸå®é¡¹ç›®ï¼**

---

**ğŸ‰ æ­å–œä½ å®Œæˆç¬¬45è¯¾ï¼**

**ä½ å·²ç»èƒ½åšå‡ºæœ€ä½³æŠ€æœ¯é€‰æ‹©ï¼**

**è¿›åº¦ï¼š45/165è¯¾ï¼ˆ27.3%å®Œæˆï¼‰** ğŸš€
